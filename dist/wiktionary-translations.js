!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("axios"),require("iso-639-1")):"function"==typeof define&&define.amd?define(["axios","iso-639-1"],e):"object"==typeof exports?exports.wiktionaryTransations=e(require("axios"),require("iso-639-1")):t.wiktionaryTransations=e(t.axios,t[void 0])}(this,(function(t,e){return(()=>{"use strict";var r={300:e=>{e.exports=t},95:t=>{t.exports=e}},i={};function n(t){var e=i[t];if(void 0!==e)return e.exports;var a=i[t]={exports:{}};return r[t](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};return(()=>{n.r(a),n.d(a,{getTranslations:()=>p});var t=n(300),e=n.n(t),r=n(95),i=n.n(r);const o=t=>`https://${t}.wiktionary.org/w/api.php?`,s={action:"query",format:"json",origin:"*"},l=(t,e)=>({...s,prop:"iwlinks",iwlimit:"max",iwprefix:e,titles:t}),u=(t,e=null)=>({...s,prop:"langlinks|links",lllimit:"max",pllimit:"max",lllang:e,titles:t}),c=async(t,r)=>{try{const i=await e().get(t,{params:r});if(!i||!i.data||!i.data.query)return!1;if(200===!i.status&&!i.data.query.pages)return!1;const[n]=Object.values(i.data.query.pages);return n}catch(t){console.log(t)}},p=async(t,e,r)=>{try{const n=["ae","lu","nd","nr","oj"];if(!i().validate(e)||n.includes(e))throw new Error(`Invalid source language code: "${e}"`);if(!i().validate(r)||n.includes(r))throw new Error(`Invalid target language code: "${r}"`);const a=o(e),s=/\/([^\/]+)\/?$/,u=t=>s.test(t["*"])?t["*"].match(s):t["*"],p=await c(a,l(t,r));if(!p)return!1;if(p.iwlinks)return p.iwlinks.map(u);const f=await c(a,l(t+"/translations",r));if(!f)return!1;if(f.iwlinks)return f.iwlinks.map(u);const g=await d(t,e,r);return!(!g||!g.length)&&g}catch(t){console.log(t)}},d=async(t,e,r)=>{try{const n=await c(o(e),u(t,r));if(!n)return!1;if(!n.langlinks||!n.links)return!1;const a=n.links.map((t=>t.title)).filter((e=>!e.includes(t))),l=await c(o(r),u(t));if(!l||!l.links)return!1;const p=l.links.map((t=>t.title)).filter((e=>!e.includes(t))),d=a.filter((t=>p.includes(t))),f=await Promise.all(d.map((async t=>{const n=await c(o(r),(t=>({...s,prop:"categories",titles:t}))(t));return!(!n||!n.categories)&&(!!((t,e,r)=>{const n=t.join(" ");return!(!(o=i().getNativeName(r),new RegExp(`:?${o}`,"gi")).test(n)||(a=e,new RegExp(`:${a}`,"gi")).test(n));var a,o})(n.categories.map((t=>t.title)),e,r)&&t)})));return f.filter((t=>t))}catch(t){console.log(t)}}})(),a})()}));